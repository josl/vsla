(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(i,r,e){"use strict";var n=e(9);r.__esModule=!0,r.withPrefix=F,r.navigateTo=r.replace=r.push=r.navigate=r.default=void 0;var s=n(e(154)),a=n(e(58)),v=n(e(7)),l=n(e(53)),t=n(e(54)),u=n(e(4)),N=n(e(0)),E=e(23),Y=e(149);function F(i){return function(i){return i.replace(/\/+/g,"/")}("/"+i)}var X={activeClassName:u.default.string,activeStyle:u.default.object},y=function(i){function r(r){var e;e=i.call(this)||this,(0,t.default)((0,l.default)((0,l.default)(e)),"defaultGetProps",function(i){return i.isCurrent?{className:[e.props.className,e.props.activeClassName].filter(Boolean).join(" "),style:(0,a.default)({},e.props.style,e.props.activeStyle)}:null});var n=!1;return"undefined"!=typeof window&&window.IntersectionObserver&&(n=!0),e.state={IOSupported:n},e.handleRef=e.handleRef.bind((0,l.default)((0,l.default)(e))),e}(0,v.default)(r,i);var e=r.prototype;return e.componentDidUpdate=function(i,r){this.props.to===i.to||this.state.IOSupported||___loader.enqueue((0,Y.parsePath)(this.props.to).pathname)},e.componentDidMount=function(){this.state.IOSupported||___loader.enqueue((0,Y.parsePath)(this.props.to).pathname)},e.handleRef=function(i){var r,e,n,s=this;this.props.innerRef&&this.props.innerRef(i),this.state.IOSupported&&i&&(r=i,e=function(){___loader.enqueue((0,Y.parsePath)(s.props.to).pathname)},(n=new window.IntersectionObserver(function(i){i.forEach(function(i){r===i.target&&(i.isIntersecting||i.intersectionRatio>0)&&(n.unobserve(r),n.disconnect(),e())})})).observe(r))},e.render=function(){var i=this,r=this.props,e=r.to,n=r.getProps,v=void 0===n?this.defaultGetProps:n,l=r.onClick,t=r.onMouseEnter,u=(r.activeClassName,r.activeStyle,r.ref,r.innerRef,r.state),X=r.replace,y=(0,s.default)(r,["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","ref","innerRef","state","replace"]),C=F(e);return N.default.createElement(E.Link,(0,a.default)({to:C,state:u,getProps:v,innerRef:this.handleRef,onMouseEnter:function(i){t&&t(i),___loader.hovering((0,Y.parsePath)(e).pathname)},onClick:function(r){return l&&l(r),0!==r.button||i.props.target||r.defaultPrevented||r.metaKey||r.altKey||r.ctrlKey||r.shiftKey||(r.preventDefault(),R(e,{state:u,replace:X})),!0}},y))},r}(N.default.Component);y.propTypes=(0,a.default)({},X,{innerRef:u.default.func,onClick:u.default.func,to:u.default.string.isRequired,replace:u.default.bool});var C=y;r.default=C;var R=function(i,r){window.___navigate(F(i),r)};r.navigate=R;var c=function(i){console.warn('The "push" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___push(F(i))};r.push=c;r.replace=function(i){console.warn('The "replace" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___replace(F(i))};r.navigateTo=function(i){return console.warn('The "navigateTo" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),c(i)}},153:function(i,r,e){"use strict";var n=e(155);i.exports=n},154:function(i,r){i.exports=function(i,r){if(null==i)return{};var e,n,s={},a=Object.keys(i);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||(s[e]=i[e]);return s}},155:function(i,r){var e=window;function n(){this.currentEvent=null,this.componentRendered=null,this.matrixForNavigation=null,this.currentX=0,this.currentY=0,this.activeElement=null,this.prevComponentRendered=[],this.prevActiveElement=[],this.nextComponentRendered=null,this.arrayOfCoordinates=[],this.initialOffsetX=0,this.initialOffsetY=0,this.resume=!0,this.matrixWidth=0,this.matrixHeight=0}n.prototype._getLocationOfActiveElement=function(i){if(null!=this.matrixForNavigation)for(var r=0;r<this.matrixForNavigation.length;r++)for(var e=0;e<this.matrixForNavigation[0].length;e++)if(this.matrixForNavigation[r][e]==i)return[r,e];return[0,0]},n.prototype.getWindowRelativeOffset=function(i){return i.getBoundingClientRect()},n.prototype.makeNavigationRulesForComponent=function(i,r,e){var n=this,s=JSON.parse(JSON.stringify(function i(r){var e=new Array(r||0),n=r;if(arguments.length>1)for(var s=Array.prototype.slice.call(arguments,1);n--;)e[r-1-n]=i.apply(this,s);return e}(r,e)));new Promise((n,a)=>{var v=this.matrixWidth/e,l=this.matrixHeight/r;n(function(i,r,e,n){var s=Array.from(Object.create(r)),a=i;function v(i,r,e,n,s,a){for(var v=0;v<a;v++)for(var l=0;l<s;l++)i[e+v][n+l]=r}if(null!=a&&a!=[])for(var l=0;l<a.length;l++)for(var t=0;t<a[l].length;t++){if(null!=a[l][t])var u=Math.round(a[l][t].offset.width/e),N=Math.round(a[l][t].offset.height/n);null!==a[l][t]&&(u>1||N>1)?v(s,a[l][t].elementToFocus,l,t,u,N):null!==a[l][t]&&(s[l][t]=a[l][t].elementToFocus)}return s}(function(i){for(var r=0;r<i.length;r++){var e=i.length*i[r].offset.x+i[r].offset.y;i[r].iValue=e}i.sort(function(i,r){var e=i.offset.y,n=r.offset.y;return e<n?-1:e>n?1:0});var n=[],s=[],a=!1;for(r=0;r<i.length;r++)a?i[r].offset.y>s[s.length-1].offset.y&&r!=i.length-1?(n.push(s),(s=[]).push(i[r])):r===i.length-1?i[r].offset.y>s[s.length-1].offset.y?(n.push(s),(s=[]).push(i[r]),n.push(s)):(s.push(i[r]),n.push(s)):s.push(i[r]):(s.push(i[r]),a=!0);s.length>0&&0==n.length&&n.push(s);for(var v=0;v<n.length;v++)n[v].sort(function(i,r){var e=i.offset.x,n=r.offset.x;return e<n?-1:e>n?1:0});var l=[...new Set(n.reduce((i,r)=>i.concat(r.map(({offset:{x:i}})=>i)),[]))].sort((i,r)=>i-r);return n.forEach(i=>{l.forEach((r,e)=>{(void 0===i[e]||i[e].offset.x>r)&&i.splice(e,0,null)})}),n}(i),s,v,l)),a(err)}).then(i=>{if(n.matrixForNavigation=i,0!=n.matrixForNavigation.length&&null!=n.matrixForNavigation){var r=!1;if(n.prevComponentRendered.length>=2&&n.prevActiveElement.length>=2&&n.prevComponentRendered[n.prevComponentRendered.length-2]==n.nextComponentRendered&&null!=n.prevComponentRendered[n.prevComponentRendered.length-2]&&null!=n.nextComponentRendered){var e=n.prevActiveElement[n.prevActiveElement.length-2];n.currentX=e[0],n.currentY=e[1],r=!0}if(n.matrixForNavigation.length<n.currentX&&n.matrixForNavigation[0].length<n.currentY){for(var s=0;s<n.matrixForNavigation[0].length;s++)if(null!=n.matrixForNavigation[0][s]){n.currentX=0,n.currentY=s,n.activeElement=n.matrixForNavigation[n.currentX][n.currentY],n.activeElement.focus();break}}else if(n.matrixForNavigation.length>n.currentX&&n.matrixForNavigation[0].length>n.currentY&&r)n.activeElement=n.matrixForNavigation[n.currentX][n.currentY],n.activeElement.focus();else if(n.matrixForNavigation.length>n.currentX&&n.matrixForNavigation[0].length>n.currentY){for(s=0;s<n.matrixForNavigation[0].length;s++)if(null!=n.matrixForNavigation[0][s]){n.currentX=0,n.currentY=s,n.activeElement=n.matrixForNavigation[n.currentX][n.currentY],n.activeElement.focus();break}}else for(s=0;s<n.matrixForNavigation[0].length;s++)if(null!=n.matrixForNavigation[0][s]){n.currentX=0,n.currentY=s,n.activeElement=n.matrixForNavigation[n.currentX][n.currentY],n.activeElement.focus();break}}},i=>{console.log(i)})};var s=(new Date).getTime();n.prototype.destroyCurrentNavigationView=function(i,r){var e=(new Date).getTime();return e-s<250?(s=e,!1):"destroy"==r?(this.prevComponentRendered.push(this.componentRendered),this.prevComponentRendered.length>=5&&(this.prevComponentRendered=this.prevComponentRendered.slice(Math.max(this.prevComponentRendered.length-5,2))),this.prevActiveElement.push(this._getLocationOfActiveElement(this.activeElement)),this.prevActiveElement.length>=5&&(this.prevActiveElement=this.prevActiveElement.slice(Math.max(this.prevActiveElement.length-5,2))),this.arrayOfCoordinates=[],a=[],v=[],this.initialOffsetX=0,this.initialOffsetY=0,this.matrixForNavigation=null,this.currentX=0,this.currentY=0,this.activeElement=null,this.currentEvent=null,this.componentRendered=null,s=e,!0):(a=[],v=[],this.arrayOfCoordinates=[],this.initialOffsetX=0,this.initialOffsetY=0,this.matrixForNavigation=null,this.currentX=0,this.currentY=0,this.activeElement=null,this.currentEvent=null,s=e,!0)};var a=[],v=[];function l(i){let r=i[0].offset.left,e=i[0].offset.right,n=i[0].offset.top,s=i[0].offset.bottom;for(let a=1,v=i.length;a<v;a++){let v=i[a].offset.left,l=i[a].offset.top,t=i[a].offset.right,u=i[a].offset.bottom;r=v<r?v:r,n=l<n?l:n,e=t>e?t:e,s=u>s?u:s}return[e-r,s-n]}n.prototype.increaseRowCountIfRequired=function(i,r){return i.y=Math.round(i.y),i.y>this.initialOffsetY&&i.y>Math.max(...v)?(this.initialOffsetY=i.y,v.push(i.y),r+1):i.y<this.initialOffsetY&&!v.includes(i.y)?(this.initialOffsetY=i.y,v.push(i.y),r+1):r},n.prototype.increaseColumnCountIfRequired=function(i,r){return i.x=Math.round(i.x),i.x>this.initialOffsetX&&i.x>Math.max(...a)?(this.initialOffsetX=i.x,a.push(i.x),r+1):i.x<this.initialOffsetX&&!a.includes(i.x)?(this.initialOffsetX=i.x,a.push(i.x),r+1):r},n.prototype.handleView=function(i){var r=this;r.arrayOfCoordinates=[],r.componentRendered=i;new Promise((r,n)=>{e=document.getElementById(i),r(e.getElementsByClassName("navigable")),n(err)}).then(i=>{for(var e=0,n=0,s=0;s<i.length;s++){i[s].tabIndex=-1===i[s].tabIndex?0:i[s].tabIndex;var a=r.getWindowRelativeOffset(i[s]);e=r.increaseRowCountIfRequired(a,e),n=r.increaseColumnCountIfRequired(a,n);var v={offset:a,elementToFocus:i[s]};r.arrayOfCoordinates.push(v)}r.matrixWidth=l(r.arrayOfCoordinates)[0],r.matrixHeight=l(r.arrayOfCoordinates)[1],r.makeNavigationRulesForComponent(r.arrayOfCoordinates,e,n)},i=>{console.log(i)})};var t=new n;t.getActiveElement=function(){return this.activeElement},t.setNavigation=function(i){null===this.matrixForNavigation&&(this.nextComponentRendered=i,this.handleView(i))},t.destroyNavigation=function(i){this.destroyCurrentNavigationView(i,"destroy")},t.getCurrentEvent=function(i){return this.currentEvent},t.refreshNavigation=function(i,r){if("refresh"==r){this.prevComponentRendered.push(this.componentRendered),this.prevActiveElement.push(this._getLocationOfActiveElement(activeElement)),this.destroyCurrentNavigationView(i,"destroy")&&this.handleView(i)}else{this.destroyCurrentNavigationView(i,r)&&this.handleView(i)}},t.getNavigationComponent=function(){return this.componentRendered},t.resumeNavigation=function(){this.resume=!0},t.pauseNavigation=function(){this.resume=!1};var u=function(i){if(null!==this.matrixForNavigation&&this.resume){var r=this.matrixForNavigation.length,e=this.matrixForNavigation[0].length,n=function(){for(var i=arguments[1];i>=0;){if(void 0!==this.matrixForNavigation[arguments[0]][i]&&null!==this.matrixForNavigation[arguments[0]][i])return this.activeElement.blur(),this.currentX=arguments[0],this.currentY=i,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),!0;i--}return!1}.bind(this),s=function(){for(var i=arguments[1];i<e;){if(void 0!==this.matrixForNavigation[arguments[0]][i]&&null!==this.matrixForNavigation[arguments[0]][i])return this.activeElement.blur(),this.currentX=arguments[0],this.currentY=i,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),!0;i++}return!1}.bind(this),a=function(){for(var i=arguments[0];i>=0;){if(void 0!==this.matrixForNavigation[i][arguments[1]]&&null!==this.matrixForNavigation[i][arguments[1]])return this.activeElement.blur(),this.currentY=arguments[1],this.currentX=i,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),!0;i--}return!1}.bind(this),v=function(){for(var i=arguments[0];i<r;){if(void 0!==this.matrixForNavigation[i][arguments[1]]&&null!==this.matrixForNavigation[i][arguments[1]])return this.activeElement.blur(),this.currentY=arguments[1],this.currentX=i,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),!0;i++}return!1}.bind(this);if(null!=this.matrixForNavigation&&0!=this.matrixForNavigation.length)if(this.currentEvent=i,40==i.keyCode){if(this.currentX+1>=r)   ;else if(null!=this.matrixForNavigation[this.currentX+1][this.currentY]&&this.matrixForNavigation[this.currentX+1][this.currentY]!=this.activeElement)this.activeElement.blur(),this.currentX=this.currentX+1,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();else if(void 0!==this.matrixForNavigation[this.currentX+1][this.currentY]&&this.matrixForNavigation[this.currentX+1][this.currentY]!=this.activeElement&&null===this.matrixForNavigation[this.currentX+1][this.currentY]){for(var l=this.currentX+1,t=!1;l<r;){if(null!=this.matrixForNavigation[l][this.currentY]){this.activeElement.blur(),this.currentX=l,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),t=!0;break}l++}if(this.currentY>=0&&!t)0==n(this.currentX+1,this.currentY)&&s(this.currentX+1,this.currentY)}else if(this.matrixForNavigation[this.currentX+1][this.currentY]===this.activeElement)for(l=this.currentX+1;l<r;){if(this.matrixForNavigation[l][this.currentY]!=this.activeElement){this.activeElement.blur(),this.currentX=l,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();break}l++}}else if(38==i.keyCode){if(this.currentX-1<0)   ;else if(null!=this.matrixForNavigation[this.currentX-1][this.currentY]&&this.matrixForNavigation[this.currentX-1][this.currentY]!=this.activeElement)this.activeElement.blur(),this.currentX=this.currentX-1,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();else if(void 0!==this.matrixForNavigation[this.currentX-1][this.currentY]&&this.matrixForNavigation[this.currentX-1][this.currentY]!=this.activeElement&&null===this.matrixForNavigation[this.currentX-1][this.currentY]){var u=this.currentX-1;for(t=!1;u>=0;){if(null!=this.matrixForNavigation[u][this.currentY]){this.activeElement.blur(),this.currentX=u,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),t=!0;break}u--}if(this.currentY>0&&!t)0==n(this.currentX-1,this.currentY)&&s(this.currentX-1,this.currentY)}else if(this.matrixForNavigation[this.currentX-1][this.currentY]===this.activeElement)for(u=this.currentX-1;u>=0;){if(this.matrixForNavigation[u][this.currentY]!=this.activeElement){this.activeElement.blur(),this.currentX=u,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();break}u--}}else if(39==i.keyCode){if(this.currentY+1>=e)   ;else if(null!=this.matrixForNavigation[this.currentX][this.currentY+1]&&this.matrixForNavigation[this.currentX][this.currentY+1]!=this.activeElement)this.activeElement.blur(),this.currentY=this.currentY+1,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();else if(void 0!==this.matrixForNavigation[this.currentX][this.currentY+1]&&this.matrixForNavigation[this.currentX][this.currentY+1]!=this.activeElement&&null===this.matrixForNavigation[this.currentX][this.currentY+1]){t=!1;for(var N=this.currentY+1;N<e;){if(null!=this.matrixForNavigation[this.currentX][N]){this.activeElement.blur(),this.currentY=N,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),t=!0;break}N++}if(this.currentY>0&&!t)0==a(this.currentX,this.currentY+1)&&v(this.currentX,this.currentY+1)}else if(this.matrixForNavigation[this.currentX][this.currentY+1]===this.activeElement)for(N=this.currentY+1;N<e;){if(this.matrixForNavigation[this.currentX][N]!=this.activeElement){this.activeElement.blur(),this.currentY=N,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();break}N++}}else if(37==i.keyCode)if(this.currentY-1<0)   ;else if(null!=this.matrixForNavigation[this.currentX][this.currentY-1]&&this.matrixForNavigation[this.currentX][this.currentY-1]!=this.activeElement)this.activeElement.blur(),this.currentY=this.currentY-1,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();else if(void 0!==this.matrixForNavigation[this.currentX][this.currentY-1]&&this.matrixForNavigation[this.currentX][this.currentY-1]!=this.activeElement&&null===this.matrixForNavigation[this.currentX][this.currentY-1]){var E=this.currentY-1;for(t=!1;E>=0;){if(null!=this.matrixForNavigation[this.currentX][E]){this.activeElement.blur(),this.currentY=E,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus(),t=!0;break}E--}if(this.currentX>0&&!t)0==a(this.currentX,this.currentY-1)&&v(this.currentX,this.currentY-1)}else if(this.matrixForNavigation[this.currentX][this.currentY-1]===this.activeElement)for(E=this.currentY-1;E>=0;){if(this.matrixForNavigation[this.currentX][E]!=this.activeElement){this.activeElement.blur(),this.currentY=E,this.activeElement=this.matrixForNavigation[this.currentX][this.currentY],this.activeElement.focus();break}E--}}else console.log("Navigation is paused")}.bind(t);e.addEventListener("keydown",u,!0),i.exports=t}}]);
//# sourceMappingURL=0-6db90ef2a812286f5e7f.js.map